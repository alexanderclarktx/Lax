var b=(i)=>{let e=!1,o={state:i.state,elements:[],keysDown:m(),append:(n,r=!1)=>{if(o.elements.push(n),n.lex=o,!r)document.body.appendChild(n.e);if(n.children)for(let a of n.children)n.e.appendChild(a.e),o.append(a,!0);return!0},remove:(n)=>{let r=o.elements.indexOf(n);if(r===-1)return!1;if(o.elements.splice(r,1),n.e.parentElement)n.e.parentElement.removeChild(n.e);return!0}},t=()=>{if(requestAnimationFrame(t),!e&&document.body){if(document.body.style.backgroundColor=i.backgroundColor??"black",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",i.elements)for(let n of i.elements)o.append(n);e=!0}for(let n of o.elements){if(n.update?.(),n.children)for(let r of n.children)r.update?.();o.keysDown.update()}};return document.addEventListener("keydown",(n)=>{if(document.hasFocus()){let r=n.key.toLowerCase();if(!o.keysDown.get(r))o.keysDown.push({key:r,hold:0})}}),document.addEventListener("keyup",(n)=>{let r=n.key.toLowerCase();o.keysDown.remove(r)}),requestAnimationFrame(t),o};var m=(i)=>{let e=i?[...i]:[];return{all:()=>[...e],get:(o)=>{return e.find((t)=>t.key===o)},copy:()=>m(e),clear:()=>{e=[]},push:(o)=>{if(!e.find((t)=>t.key===o.key))return e.push(o)},remove:(o)=>{e=e.filter((t)=>t.key!==o)},update:()=>{for(let o of e)o.hold+=1}}};var l=(i,e)=>(o)=>{let t=document.createElement(i);if(Object.assign(t.style,e),Object.assign(t.style,o.style),t.oncontextmenu=(n)=>n.preventDefault(),o.style?.touchAction===void 0)t.ontouchstart=(n)=>n.preventDefault(),t.ontouchend=(n)=>n.preventDefault(),t.ontouchmove=(n)=>n.preventDefault(),t.ontouchcancel=(n)=>n.preventDefault();if(o.callbacks){let{onPointerDown:n,onPointerOver:r,onPointerOut:a}=o.callbacks;if(n)t.onpointerdown=n;if(r)t.onpointerover=r;if(a)t.onpointerout=a}return{lex:void 0,e:t,update:o.update,callbacks:o.callbacks,children:o.children??[]}},s=l("div",{position:"absolute",scrollbarWidth:"none",msOverflowStyle:"none",outline:"none",touchAction:"none"}),$=l("canvas",{position:"absolute",outline:"none",touchAction:"none"}),y=l("img",{position:"absolute",outline:"none",touchAction:"none",userSelect:"none",pointerEvents:"none"}),h=l("a",{position:"absolute",outline:"none",touchAction:"none"});var u=(i)=>{let e={position:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight/2},velocity:{x:Math.random()*2-4,y:0},radius:8,gravity:0.04,frozen:!1},o=s({style:{backgroundColor:i,borderRadius:"50%",border:"2px solid white",pointerEvents:"auto"},callbacks:{onPointerDown:()=>{o.lex?.remove(o)},onPointerOver:()=>{e.frozen=!0},onPointerOut:()=>{e.frozen=!1}},update:()=>{if(e.frozen)return;let t=o.e;t.style.width=`${e.radius}dvh`,t.style.height=`${e.radius}dvh`,t.style.top=`${e.position.y}px`,t.style.left=`${e.position.x}px`,e.velocity.y+=e.gravity,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y;let{width:n,height:r}=t.getBoundingClientRect();if(e.position.x<0)e.position.x=0,e.velocity.x*=-1;if(e.position.x+n>window.innerWidth)e.position.x=window.innerWidth-n,e.velocity.x*=-1;if(e.position.y<0)e.position.y=0,e.velocity.y*=-1;if(e.position.y+r>window.innerHeight)e.position.y=window.innerHeight-r,e.velocity.y*=-1}});return o};var M=b({state:{},elements:[u("#00ffaa"),u("#ffaa00"),u("#aa00ff"),u("#ff00aa")],backgroundColor:"#222233"});
