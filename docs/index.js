var m=(i)=>{let e=!1,o={state:i,elements:[],keysDown:p(),append:(n,t=!1)=>{if(o.elements.push(n),n.lax=o,!t)document.body.appendChild(n.e);if(n.children)for(let a of n.children)n.e.appendChild(a.e),o.append(a,!0);return!0},remove:(n)=>{let t=o.elements.indexOf(n);if(t===-1)return!1;if(o.elements.splice(t,1),n.e.parentElement)n.e.parentElement.removeChild(n.e);return!0}},r=()=>{if(requestAnimationFrame(r),!e&&document.body)document.body.style.backgroundColor="black",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",e=!0;for(let n of o.elements){if(n.update?.(),n.children)for(let t of n.children)t.update?.();o.keysDown.updateHold()}};return document.addEventListener("keydown",(n)=>{if(document.hasFocus()){let t=n.key.toLowerCase();if(!o.keysDown.get(t))o.keysDown.push({key:t,hold:0})}}),document.addEventListener("keyup",(n)=>{let t=n.key.toLowerCase();o.keysDown.remove(t)}),requestAnimationFrame(r),o};var p=(i)=>{let e=i?[...i]:[];return{all:()=>[...e],get:(o)=>{return e.find((r)=>r.key===o)},copy:()=>p(e),clear:()=>{e=[]},push:(o)=>{if(!e.find((r)=>r.key===o.key))return e.push(o)},remove:(o)=>{e=e.filter((r)=>r.key!==o)},updateHold:()=>{for(let o of e)o.hold+=1}}};var d=(i,e)=>(o)=>{let r=document.createElement(i);if(Object.assign(r.style,e),Object.assign(r.style,o.style),r.oncontextmenu=(n)=>n.preventDefault(),o.style?.touchAction===void 0)r.ontouchstart=(n)=>n.preventDefault(),r.ontouchend=(n)=>n.preventDefault(),r.ontouchmove=(n)=>n.preventDefault(),r.ontouchcancel=(n)=>n.preventDefault();if(o.callbacks){let{onPointerDown:n,onPointerOver:t,onPointerOut:a}=o.callbacks;if(n)r.onpointerdown=n;if(t)r.onpointerover=t;if(a)r.onpointerout=a}return{lax:void 0,e:r,update:o.update,callbacks:o.callbacks,children:o.children||[]}};var s={position:"absolute",scrollbarWidth:"none",msOverflowStyle:"none",outline:"none",touchAction:"none"},b=d("div",s);var u=(i)=>{let e={position:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight/2},velocity:{x:Math.random()*2-4,y:0},radius:8,gravity:0.04,frozen:!1},o=b({style:{backgroundColor:i,borderRadius:"50%",border:"2px solid white",pointerEvents:"auto"},callbacks:{onPointerDown:()=>{o.lax?.remove(o)},onPointerOver:()=>{e.frozen=!0},onPointerOut:()=>{e.frozen=!1}},update:()=>{if(e.frozen)return;let r=o.e;r.style.width=`${e.radius}dvh`,r.style.height=`${e.radius}dvh`,r.style.top=`${e.position.y}px`,r.style.left=`${e.position.x}px`,e.velocity.y+=e.gravity,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y;let{width:n,height:t}=r.getBoundingClientRect();if(e.position.x<0)e.position.x=0,e.velocity.x*=-1;if(e.position.x+n>window.innerWidth)e.position.x=window.innerWidth-n,e.velocity.x*=-1;if(e.position.y<0)e.position.y=0,e.velocity.y*=-1;if(e.position.y+t>window.innerHeight)e.position.y=window.innerHeight-t,e.velocity.y*=-1}});return o};var l=m({});l.append(u("#00ffaa"));l.append(u("#ffaa00"));l.append(u("#aa00ff"));l.append(u("#ff00aa"));
